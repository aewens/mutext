// Generated by CoffeeScript 1.7.1
(function() {
  define(["keycodes", "translate"], function(codes, chars) {
    var Keys;
    Keys = (function() {
      function Keys() {
        console.log("Loading keys...");
        this.mac = window.navigator.platform.indexOf("Mac") !== -1;
        this.loadKeys();
        this.pressed = [];
      }

      Keys.prototype.loadKeys = function() {
        var ctrl, k, meta, v;
        for (k in codes) {
          v = codes[k];
          this[k] = v;
        }
        if (this.mac) {
          ctrl = this.ctrl;
          meta = this.meta;
          this.ctrl = meta;
          return this.meta = ctrl;
        }
      };

      Keys.prototype.translate = function(i) {
        return chars[i];
      };

      Keys.prototype.set = function(k, v) {
        var fn;
        this.pressed[k] = v;
        fn = arguments[2];
        if (fn !== void 0) {
          fn.call(this.pressed);
        }
        return this;
      };

      return Keys;

    })();
    return new Keys;
  });

}).call(this);
