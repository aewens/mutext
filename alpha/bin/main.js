// Generated by CoffeeScript 1.7.1
(function() {
  require.config({
    urlArgs: "nocache=" + (new Date).getTime(),
    paths: {
      "jquery": "../vendor/jquery.min",
      "underscore": "../vendor/underscore-min"
    }
  });

  require(["jquery", "layout", "edit", "events", "store"], function($, Layout, Edit, Events, Store) {
    var phrases;
    phrases = ["ಠ_ಠ"];
    return $(document).ready(function() {
      var go, phrase;
      phrase = Math.floor(Math.random() * phrases.length) % phrases.length;
      $("#load").html(phrases[phrase]);
      go = function() {
        var events, store;
        events = new Events(new Edit(new Layout));
        $("#dialog").hide();
        $("#load").remove();
        $("#app").css("opacity", 1);
        store = new Store($("#dialog"), $("textarea"), $("#files"), $("#info"), $("#save"));
        store.listFiles();
        $("a.edit-file").on("click", function(e) {
          e.preventDefault();
          return store.loadFile($(this).text());
        });
        return events.press(store);
      };
      return setTimeout(go, 500);
    });
  });

}).call(this);
